using System;
using System.Collections.Generic;
using System.Linq;

class Товар
{
    public string Назва { get; set; }
    public double Ціна { get; set; }
    public string Опис { get; set; }
    public string Категорія { get; set; }
    public int Рейтинг { get; set; }

    public Товар(string назва, double ціна, string опис, string категорія, int рейтинг)
    {
        Назва = назва;
        Ціна = ціна;
        Опис = опис;
        Категорія = категорія;
        Рейтинг = рейтинг;
    }
}
class Користувач
{
    public string Логін { get; set; }
    public string Пароль { get; set; }
    public List<Замовлення> ІсторіяПокупок { get; set; }

    public Користувач(string логін, string пароль)
    {
        Логін = логін;
        Пароль = пароль;
        ІсторіяПокупок = new List<Замовлення>();
    }
}

class Замовлення
{
    public List<Товар> Товари { get; set; }
    public Dictionary<Товар, int> КількістьТовару { get; set; }
    public double ЗагальнаВартість { get; set; }
    public string Статус { get; set; }

    public Замовлення()
    {
        Товари = new List<Товар>();
        КількістьТовару = new Dictionary<Товар, int>();
        ЗагальнаВартість = 0;
        Статус = "Очікує на оплату";
    }
}

interface ISearchable
{
    List<Товар> ЗнайтиТовариПоКритеріях(Func<Товар, bool> критерій);
}

class Магазин : ISearchable
{
    public List<Користувач> Користувачі { get; set; }
    public List<Товар> Товари { get; set; }
    public List<Замовлення> Замовлення { get; set; }

    public Магазин()
    {
        Користувачі = new List<Користувач>();
        Товари = new List<Товар>();
        Замовлення = new List<Замовлення>();
    }

    public void ДодатиКористувача(Користувач користувач)
    {
        Користувачі.Add(користувач);
    }

    public void ДодатиТовар(Товар товар)
    {
        Товари.Add(товар);
    }
    public Замовлення СтворитиЗамовлення()
    {
        var замовлення = new Замовлення();
        Замовлення.Add(замовлення);
        return замовлення;
    }
    public List<Товар> ЗнайтиТовариПоКритеріях(Func<Товар, bool> критерій)
    {
        return Товари.Where(критерій).ToList();
    }
}

class Program
{
    static void Main()
    {
        Магазин магазин = new Магазин();

        Товар товар1 = new Товар("Ноутбук", 1000, "Потужний ноутбук", "Електроніка", 5);
        Товар товар2 = new Товар("Смартфон", 500, "Сучасний смартфон", "Електроніка", 4);
        Товар товар3 = new Товар("Книга", 20, "Цікава книга", "Книги", 5);

        магазин.ДодатиТовар(товар1);
        магазин.ДодатиТовар(товар2);
        магазин.ДодатиТовар(товар3);

        Користувач користувач1 = new Користувач("user1", "password1");
        Користувач користувач2 = new Користувач("user2", "password2");

        магазин.ДодатиКористувача(користувач1);
        магазин.ДодатиКористувача(користувач2);

        List<Товар> електронікаТовари = магазин.ЗнайтиТовариПоКритеріях(товар => товар.Категорія == "Електроніка");
        List<Товар> дорогіТовари = магазин.ЗнайтиТовариПоКритеріях(товар => товар.Ціна > 500);

        Замовлення замовлення1 = магазин.СтворитиЗамовлення();
        замовлення1.Товари.Add(товар1);
        замовлення1.КількістьТовару[товар1] = 1;

        Console.WriteLine("Список товарів у замовленні 1:");
        foreach (var товар in замовлення1.Товари)
        {
            Console.WriteLine($"Назва: {товар.Назва}, Ціна: {товар.Ціна}");
        }
    }
}
